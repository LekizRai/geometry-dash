(()=>{"use strict";var t,e={687:(t,e,s)=>{var i=s(440),a=s.n(i);class r{constructor(t){this.scene=t,this.level=1,this.objectListDictionary={}}load(t){this.level=t,this.tileMap=this.scene.make.tilemap({key:`tile-map-level-${t}`,tileWidth:32,tileHeight:32});const e=this.tileMap.addTilesetImage("geometry-dash","geometry-dash");if(e){const t=this.tileMap.createLayer("foreground",e,0,0);t&&(console.log(this.foregroundLayer),this.foregroundLayer=t),this.foregroundLayer.setCollisionByProperty({isCollided:!0})}console.log(this.tileMap.widthInPixels)}initializeObjectList(t){const e=this.tileMap.createFromObjects("objects",{name:t,classType:Phaser.Physics.Arcade.Sprite});e.length>0&&(e.forEach((t=>{t instanceof Phaser.Physics.Arcade.Sprite&&(t.setY(t.y),t.setX(t.x),t.setVisible(!1),this.scene.physics.add.existing(t))})),this.objectListDictionary[t]=e)}addActionToObjectList(t,e){this.objectListDictionary[t]&&this.objectListDictionary[t].forEach((t=>{e(t)}))}getForegroundLayer(){return this.foregroundLayer}setForegroundColor(t){this.foregroundLayer.setTint(t)}substract(){}}class o{constructor(t,e,s,i){this.scene=t,this.playerIndex=e,this.sprite=s?i?this.scene.physics.add.sprite(s,i,`player-${e}`):this.scene.physics.add.sprite(s,0,`player-${e}`):this.scene.physics.add.sprite(0,0,`player-${e}`),this.ship=this.scene.physics.add.sprite(this.sprite.x,this.sprite.y,`ship-${e}`),this.ship.setVisible(!1),this.ship.enableBody(!1),this.isRunning=!0,this.rotationTween=this.scene.add.tween({key:"player-rotation",targets:this.sprite,rotation:Math.PI,duration:440,persist:!0})}initialize(){this.setVelocityX(560),this.setGravityY(4745.61),this.sprite.setVisible(!0)}getX(){return this.sprite.x}getY(){return this.sprite.y}setX(t){this.sprite.setX(t)}setY(t){this.sprite.setY(t)}getVelocityX(){return this.sprite.body.velocity.x}getVelocityY(){return this.sprite.body.velocity.y}setVelocityX(t){this.sprite.setVelocityX(t)}setVelocityY(t){this.sprite.setVelocityY(t)}getGravityX(){return this.sprite.body.gravity.x}getGravityY(){return this.sprite.body.gravity.y}setGravityX(t){this.sprite.body.setGravityX(t)}setGravityY(t){this.sprite.body.setGravityY(t)}setColor(t){this.sprite.setTint(t)}setVisible(t){this.sprite.setVisible(t)}act(){this.isRunning?this.sprite.body.blocked.down&&(this.sprite.setVelocityY(-1193.18),this.sprite.setRotation(0),this.rotationTween.restart()):this.sprite.setVelocityY(-200)}changeToFlyingState(){this.isRunning&&(this.isRunning=!1,this.ship.setVisible(!0),this.ship.enableBody(!0),this.sprite.setVelocityX(560),this.sprite.setGravityY(200))}changeToRunningState(){this.isRunning||(this.isRunning=!0,this.ship.setVisible(!1),this.ship.enableBody(!1),this.sprite.setRotation(0),this.sprite.setVelocityX(560),this.sprite.setGravityY(4745.61))}collideWith(t,e){e?t instanceof Phaser.GameObjects.GameObject?this.scene.physics.add.collider(t,this.sprite,e):this.scene.physics.add.collider(t.getForegroundLayer(),this.sprite,e):t instanceof Phaser.GameObjects.GameObject?this.scene.physics.add.collider(t,this.sprite):this.scene.physics.add.collider(t.getForegroundLayer(),this.sprite)}overlapWith(t,e){this.scene.physics.add.overlap(t,this.sprite,e)}setParticle(){this.particle=this.scene.add.particles(0,0,`particle-${this.playerIndex}`,{lifespan:200,angle:{min:-100,max:-80},scale:{start:.75,end:0},speed:{min:100,max:200},alpha:{start:1,end:0},frequency:50,blendMode:"ADD"}),this.particle.startFollow(this.sprite,-32,32)}burstParticle(){this.particle.setParticleScale(.75,.75),this.particle.setParticleLifespan(1e3),this.particle.ops.angle.loadConfig({angle:{min:0,max:360}}),this.particle.stopFollow(),this.particle.explode(50,this.sprite.x,this.sprite.y),this.sprite.setVisible(!1),this.sprite.setVelocityX(0)}update(){if(this.isRunning)this.sprite.body.blocked.down&&this.rotationTween.isPlaying()&&(this.rotationTween.pause(),this.sprite.setRotation(0));else{let t=Math.atan(this.getVelocityY()/this.getVelocityX());Number.isNaN(t)&&(t=0),this.sprite.setRotation(t),this.ship.setRotation(t);const e=Math.sqrt(Math.pow(30*Math.tan(t),2)/(1+Math.pow(Math.tan(t),2)));let s=e/Math.tan(t);Number.isNaN(s)&&(s=30),s>0?(this.ship.setX(this.sprite.x-e),this.ship.setY(this.sprite.y+s)):(this.ship.setX(this.sprite.x+e),this.ship.setY(this.sprite.y-s))}}}class n extends Phaser.Scene{constructor(){super("game"),this.level=1,this.playerIndex=1}getLevel(){return this.level}getPlayerIndex(){return this.playerIndex}setLevel(t){this.level=t}setPlayerIndex(t){this.playerIndex=t}preload(){}create(){var t,e,s;this.physics.world.TILE_BIAS=36,this.physics.world.setBoundsCollision(!1,!1,!1,!1),this.gameMap=new r(this),this.gameMap.load(this.level),this.gameMap.setForegroundColor(3014406),this.player=new o(this,this.playerIndex,300,1050),this.player.setColor(16777215),this.player.setVelocityX(560),this.player.setGravityY(4745.61),this.player.setParticle(),this.player.collideWith(this.gameMap,(()=>{})),this.gameMap.initializeObjectList("spike"),this.gameMap.addActionToObjectList("spike",(t=>{t instanceof Phaser.Physics.Arcade.Sprite&&this.player.overlapWith(t,(()=>{this.overlapStarted(t)&&(this.player.burstParticle(),this.restart())}))})),this.gameMap.initializeObjectList("jump"),this.gameMap.addActionToObjectList("jump",(t=>{t instanceof Phaser.Physics.Arcade.Sprite&&this.player.overlapWith(t,(()=>{this.overlapStarted(t)&&this.player.setVelocityY(-1789.77)}))})),this.gameMap.initializeObjectList("camera-up"),this.gameMap.addActionToObjectList("camera-up",(t=>{t instanceof Phaser.Physics.Arcade.Sprite&&this.player.overlapWith(t,(()=>{this.overlapStarted(t)&&this.add.tween({targets:this.cameraFollowObject,y:this.cameraFollowObject.y-128,duration:500})}))})),this.gameMap.initializeObjectList("camera-down"),this.gameMap.addActionToObjectList("camera-down",(t=>{t instanceof Phaser.Physics.Arcade.Sprite&&this.player.overlapWith(t,(()=>{this.overlapStarted(t)&&this.add.tween({targets:this.cameraFollowObject,y:this.cameraFollowObject.y+128,duration:500})}))})),this.gameMap.initializeObjectList("camera-half-up"),this.gameMap.addActionToObjectList("camera-half-up",(t=>{t instanceof Phaser.Physics.Arcade.Sprite&&this.player.overlapWith(t,(()=>{this.overlapStarted(t)&&this.add.tween({targets:this.cameraFollowObject,y:this.cameraFollowObject.y-64,duration:500})}))})),this.gameMap.initializeObjectList("camera-half-down"),this.gameMap.addActionToObjectList("camera-half-down",(t=>{t instanceof Phaser.Physics.Arcade.Sprite&&this.player.overlapWith(t,(()=>{this.overlapStarted(t)&&this.add.tween({targets:this.cameraFollowObject,y:this.cameraFollowObject.y+64,duration:500})}))})),this.gameMap.initializeObjectList("flying"),this.gameMap.addActionToObjectList("flying",(t=>{t instanceof Phaser.Physics.Arcade.Sprite&&this.player.overlapWith(t,(()=>{this.overlapStarted(t)&&this.player.changeToFlyingState()}))})),this.gameMap.initializeObjectList("running"),this.gameMap.addActionToObjectList("running",(t=>{t instanceof Phaser.Physics.Arcade.Sprite&&this.player.overlapWith(t,(()=>{this.overlapStarted(t)&&this.player.changeToRunningState()}))})),this.cameraFollowObject=this.physics.add.sprite(300,1450,"player"),this.cameraFollowObject.body.setAllowGravity(!1),this.cameraFollowObject.setVisible(!1),this.camera=this.cameras.main.setSize(800,450).setZoom(.75),this.cameras.main.startFollow(this.cameraFollowObject,!1,.5,.5,-300,0),this.cursors=this.input.keyboard.createCursorKeys(),this.input.on("pointerdown",(()=>{this.player.act()})),null===(t=this.input.keyboard)||void 0===t||t.on("keydown-SPACE",(()=>{this.player.act()})),null===(e=this.input.keyboard)||void 0===e||e.on("keydown-UP",(()=>{this.player.act()})),null===(s=this.input.keyboard)||void 0===s||s.on("keydown-DOWN",(()=>{this.player.changeToFlyingState()}));const i=this.add.zone(0,0,800,450).setOrigin(0,0);i.setSize(800,450),this.scene.launch("pause"),this.add.zone(0,0,800,450).setOrigin(0,0),i.setSize(800,450),this.scene.launch("background")}update(t,e){this.player.update(),this.cameraFollowObject.setX(this.player.getX()),(this.cursors.space.isDown||this.cursors.up.isDown)&&this.player.act(),this.player.getY()>2e3&&this.restart()}restart(){this.camera.shake(250,.01),this.time.addEvent({delay:2e3,callback:()=>{this.camera.resetFX(),this.player.setX(300),this.player.setY(1050),this.player.setVisible(!0),this.player.setVelocityX(560),this.player.setGravityY(4745.61),this.player.setParticle(),this.cameraFollowObject.setX(300),this.cameraFollowObject.setY(1450)}})}overlapStarted(t){return!!t.body&&!t.body.touching.none&&t.body.wasTouching.none}overlapEnded(t){return!!t.body&&t.body.touching.none&&!t.body.wasTouching.none}}class h extends Phaser.Scene{constructor(){super("player-choosing")}preload(){this.add.text(250,50,"Chooing your player",{fontFamily:"Comic Sans MS",fontSize:32}),this.add.graphics({fillStyle:{color:16777215,alpha:.3}}).fillRoundedRect(150,100,500,250,64),this.add.image(300,225,"player-1").setInteractive().on("pointerdown",(()=>{this.scene.stop("player-choosing");const t=this.scene.manager.getScene("game");t instanceof n&&t.setPlayerIndex(1),this.scene.start("start")})),this.add.image(500,225,"player-2").setInteractive().on("pointerdown",(()=>{this.scene.stop("player-choosing");const t=this.scene.manager.getScene("game");t instanceof n&&t.setPlayerIndex(2),this.scene.start("start")}))}create(){}}class l extends Phaser.Scene{constructor(){super("background")}preload(){}create(){this.backgrounds=this.physics.add.group({allowGravity:!1,velocityX:-200}),this.backgrounds.create(0,0,"background").setOrigin(0,0).setTint(255),this.backgrounds.create(512,0,"background").setOrigin(0,0).setTint(255),this.backgrounds.create(1024,0,"background").setOrigin(0,0).setTint(255),this.cameras.main.setViewport(0,0,800,450),this.scene.sendToBack()}update(){let t=-1e9;this.backgrounds.children.iterate((e=>(e instanceof Phaser.Physics.Arcade.Sprite&&e.x+512>t&&(t=e.x+512),!0))),this.backgrounds.children.iterate((e=>(e instanceof Phaser.Physics.Arcade.Sprite&&e.x+e.displayWidth<0&&e.setX(t),!0)))}}class c extends Phaser.Scene{constructor(){super("pause")}preload(){}create(){this.text=this.add.text(0,0,"abcxyz"),this.text.setText("bbb"),this.progressBar=this.add.graphics({fillStyle:{color:65280}}).fillRect(196,20,200,20),this.progressBarFrame=this.add.image(400,30,"progress-bar"),this.pauseBackground=this.add.graphics({fillStyle:{color:16777215,alpha:.3}}).fillRect(150,100,500,250),this.pauseBackground.setVisible(!1),this.pauseBackground=this.add.graphics({fillStyle:{color:16777215,alpha:.3}}).fillRoundedRect(150,100,500,250,64),this.pauseBackground.setVisible(!1),this.replayButton=this.add.image(300,225,"resume-button").setInteractive(),this.replayButton.setVisible(!1),this.replayButton.on("pointerdown",(()=>{this.scene.resume("game"),this.scene.resume("background"),this.replayButton.setVisible(!1),this.menuButton.setVisible(!1),this.pauseBackground.setVisible(!1),this.pauseButton.setVisible(!0)})),this.menuButton=this.add.image(500,225,"menu-button").setScale(.65).setInteractive(),this.menuButton.setVisible(!1),this.menuButton.on("pointerdown",(()=>{this.scene.resume("background"),this.scene.stop("game"),this.scene.stop("pause"),this.scene.start("start")})),this.pauseButton=this.add.image(700,24,"pause-button").setOrigin(0,0).setInteractive(),this.pauseButton.on("pointerdown",(()=>{this.scene.pause("game"),this.scene.pause("background"),this.replayButton.setVisible(!0),this.menuButton.setVisible(!0),this.pauseBackground.setVisible(!0),this.pauseButton.setVisible(!1)})),this.cameras.main.setViewport(0,0,800,450),this.scene.bringToTop()}update(t,e){this.progressBar.fillRect(196,20,200,20)}}class p extends Phaser.Scene{constructor(){super("preload")}preload(){this.load.audio("audio-level-1","assets/audios/levels/level-1.mp3"),this.load.image("progress-bar","assets/images/preload/progress-bar.png"),this.load.image("play-button","assets/images/buttons/play.png"),this.load.image("player-button","assets/images/buttons/player-choosing.png"),this.load.image("mode-button","assets/images/buttons/more-game.png"),this.load.image("geometry-dash","assets/images/tileset/spritesheet.png"),this.load.image("player-1","assets/images/players/player-1/player.png"),this.load.image("particle-1","assets/images/players/player-1/particle.png"),this.load.image("ship-1","assets/images/players/player-1/ship.png"),this.load.image("player-2","assets/images/players/player-2/player.png"),this.load.image("particle-2","assets/images/players/player-2/particle.png"),this.load.image("ship-2","assets/images/players/player-2/ship.png"),this.load.tilemapTiledJSON("tile-map-level-1","assets/tilemaps/level-1.tmj"),this.load.tilemapTiledJSON("tile-map-level-2","assets/tilemaps/level-2.tmj"),this.load.image("resume-button","assets/images/buttons/resume.png"),this.load.image("menu-button","assets/images/buttons/menu.png"),this.load.image("pause-button","assets/images/buttons/pause.png"),this.add.graphics({fillStyle:{color:16777215}}).fillRect(100,this.game.config.height/2+100,this.game.config.width-200,30);const t=this.add.graphics({fillStyle:{color:65280}});this.load.on("progress",(e=>{console.log(e),t.fillRect(100,this.game.config.height/2+100,(this.game.config.width-200)*e,30)}))}create(){const t=new l;this.scene.add("background",t);const e=new h;this.scene.add("player-choosing",e);const s=new c;this.scene.add("pause",s),this.time.addEvent({delay:500,callback:()=>{this.scene.stop("init"),this.scene.stop("preload"),this.scene.start("start")}})}update(t,e){}}class d extends Phaser.Scene{constructor(){super("start")}preload(){}create(){this.cameras.main.setSize(800,450),this.add.image(150,50,"geometry-dash-logo").setOrigin(0,0).setScale(1.2),this.playButton=this.add.image(400,250,"play-button"),this.playButton.setInteractive(),this.playButton.on("pointerover",(()=>{this.playButton.setAlpha(.8)})),this.playButton.on("pointerout",(()=>{this.playButton.setAlpha(1)})),this.playButton.on("pointerdown",(()=>{this.playButton.setAlpha(.5),this.scene.stop("start"),this.scene.start("game")})),this.playerChoosingButton=this.add.sprite(200,250,"player-button"),this.playerChoosingButton.setInteractive(),this.playerChoosingButton.on("pointerover",(()=>{this.add.tween({targets:this.playerChoosingButton,scale:.9,duration:100})})),this.playerChoosingButton.on("pointerout",(()=>{this.add.tween({targets:this.playerChoosingButton,scale:1,duration:100})})),this.playerChoosingButton.on("pointerdown",(()=>{this.playButton.setAlpha(.5),this.scene.stop("start"),this.scene.start("player-choosing")})),this.modeGameButton=this.add.image(600,250,"mode-button"),this.modeGameButton.setInteractive(),this.modeGameButton.on("pointerover",(()=>{this.add.tween({targets:this.modeGameButton,scale:.9,duration:100})})),this.modeGameButton.on("pointerout",(()=>{this.add.tween({targets:this.modeGameButton,scale:1,duration:100})})),this.add.zone(0,0,800,450).setOrigin(0),this.scene.launch("background")}}class g extends Phaser.Scene{constructor(){super("init")}preload(){this.load.image("background","assets/images/backgrounds/background-1.png"),this.load.image("geometry-dash-logo","assets/images/preload/logo.png"),this.load.image("lite-logo","assets/images/preload/lite.png")}create(){this.add.image(0,0,"background").setOrigin(0,0).setTint(255),this.add.image(512,0,"background").setOrigin(0,0).setTint(255),this.add.image(150,100,"geometry-dash-logo").setOrigin(0,0).setScale(1.2),this.add.image(320,180,"lite-logo").setOrigin(0,0).setScale(2),this.add.zone(0,0,800,450).setOrigin(0,0).setSize(800,450),this.scene.launch("preload")}update(t,e){}}const y={type:a().AUTO,width:800,height:450,physics:{default:"arcade",arcade:{gravity:{x:0,y:0},debug:!0}},scale:{mode:a().Scale.FIT,autoCenter:a().Scale.CENTER_BOTH},scene:[g,p,d,n]};new(a().Game)(y)}},s={};function i(t){var a=s[t];if(void 0!==a)return a.exports;var r=s[t]={exports:{}};return e[t].call(r.exports,r,r.exports,i),r.exports}i.m=e,t=[],i.O=(e,s,a,r)=>{if(!s){var o=1/0;for(c=0;c<t.length;c++){for(var[s,a,r]=t[c],n=!0,h=0;h<s.length;h++)(!1&r||o>=r)&&Object.keys(i.O).every((t=>i.O[t](s[h])))?s.splice(h--,1):(n=!1,r<o&&(o=r));if(n){t.splice(c--,1);var l=a();void 0!==l&&(e=l)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[s,a,r]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={792:0};i.O.j=e=>0===t[e];var e=(e,s)=>{var a,r,[o,n,h]=s,l=0;if(o.some((e=>0!==t[e]))){for(a in n)i.o(n,a)&&(i.m[a]=n[a]);if(h)var c=h(i)}for(e&&e(s);l<o.length;l++)r=o[l],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(c)},s=self.webpackChunktype_project_template=self.webpackChunktype_project_template||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var a=i.O(void 0,[96],(()=>i(687)));a=i.O(a)})();